import{Q as hl}from"./QPage.b2857cb4.js";import{r as D,c as u,n as kl,aF as yl,aT as Cl,aP as Ae,h as n,A as Ze,g as Fe,l as el,w as Ne,x as Vl,b2 as wl,aq as G,Q as ee,z as ze,d as Le,L as Ue,X as ll,$ as L,R as me,j as f,N as _,F as al,b3 as Te,_ as Ml,a0 as $l,Z as De,aM as ql,P as Sl,V as xl,a1 as Be,t as Ye,M as _l}from"./index.bcfb42b5.js";import{e as Z,k as Al}from"./QDialog.220bb86e.js";import{Q as ve}from"./QSeparator.e0e3e556.js";import{u as Tl,Q as ue,a as Oe,C as je}from"./ClosePopup.cf6e4ec6.js";import{Q as z}from"./QInput.5c24cbaa.js";import{Q as Dl}from"./QCheckbox.c7d276d2.js";import{Q as Bl}from"./QForm.f93a040c.js";import{d as El}from"./date.bc679425.js";import{u as Il}from"./aquadoctor.store.75655d6d.js";import{T as tl}from"./TouchPan.8a206cb1.js";import{a as rl,u as ul,d as ol,o as nl,n as Rl,t as Pl}from"./use-key-composition.670eb5db.js";import{a as re,Q as He,c as Ee,b as Nl}from"./QTabPanels.8dd2d6da.js";import"./QResizeObserver.fd06d7a4.js";import"./rtl.276c3f1b.js";const Ge="q-slider__marker-labels",Fl=l=>({value:l}),Ll=({marker:l})=>n("div",{key:l.value,style:l.style,class:l.classes},l.label),sl=[34,37,40,33,39,38],Ul={...ul,...ol,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:l=>l>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},Ql=["pan","update:modelValue","change"];function zl({updateValue:l,updatePosition:d,getDragging:c,formAttrs:s}){const{props:e,emit:b,slots:i,proxy:{$q:v}}=Fe(),o=rl(e,v),y=nl(s),A=D(!1),E=D(!1),r=D(!1),w=D(!1),I=u(()=>e.vertical===!0?"--v":"--h"),Q=u(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),C=u(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(v.lang.rtl===!0)),V=u(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),q=u(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),S=u(()=>e.disable!==!0&&e.readonly!==!0&&V.value<q.value),N=u(()=>{if(e.step===0)return g=>g;const t=(String(e.step).trim().split(".")[1]||"").length;return g=>parseFloat(g.toFixed(t))}),M=u(()=>e.step===0?1:e.step),be=u(()=>S.value===!0?e.tabindex||0:-1),W=u(()=>e.max-e.min),oe=u(()=>q.value-V.value),X=u(()=>te(V.value)),le=u(()=>te(q.value)),U=u(()=>e.vertical===!0?C.value===!0?"bottom":"top":C.value===!0?"right":"left"),j=u(()=>e.vertical===!0?"height":"width"),K=u(()=>e.vertical===!0?"width":"height"),ae=u(()=>e.vertical===!0?"vertical":"horizontal"),ge=u(()=>{const t={role:"slider","aria-valuemin":V.value,"aria-valuemax":q.value,"aria-orientation":ae.value,"data-step":e.step};return e.disable===!0?t["aria-disabled"]="true":e.readonly===!0&&(t["aria-readonly"]="true"),t}),T=u(()=>`q-slider q-slider${I.value} q-slider--${A.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(S.value===!0?" q-slider--editable":""))+(r.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(o.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+I.value:""));function H(t){const g="q-slider__"+t;return`${g} ${g}${I.value} ${g}${I.value}${Q.value}`}function ne(t){const g="q-slider__"+t;return`${g} ${g}${I.value}`}const fe=u(()=>{const t=e.selectionColor||e.color;return"q-slider__selection absolute"+(t!==void 0?` text-${t}`:"")}),pe=u(()=>ne("markers")+" absolute overflow-hidden"),he=u(()=>ne("track-container")),ke=u(()=>H("pin")),se=u(()=>H("label")),ye=u(()=>H("text-container")),Ce=u(()=>H("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),Ve=u(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),we=u(()=>{const t={[K.value]:e.trackSize};return e.trackImg!==void 0&&(t.backgroundImage=`url(${e.trackImg}) !important`),t}),Me=u(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),ie=u(()=>{const t=le.value-X.value,g={[U.value]:`${100*X.value}%`,[j.value]:t===0?"2px":`${100*t}%`};return e.innerTrackImg!==void 0&&(g.backgroundImage=`url(${e.innerTrackImg}) !important`),g});function $e(t){const{min:g,max:$,step:x}=e;let P=g+t*($-g);if(x>0){const O=(P-V.value)%x;P+=(Math.abs(O)>=x/2?(O<0?-1:1)*x:0)-O}return P=N.value(P),Z(P,V.value,q.value)}function te(t){return W.value===0?0:(t-e.min)/W.value}function a(t,g){const $=yl(t),x=e.vertical===!0?Z(($.top-g.top)/g.height,0,1):Z(($.left-g.left)/g.width,0,1);return Z(C.value===!0?1-x:x,X.value,le.value)}const m=u(()=>Cl(e.markers)===!0?e.markers:M.value),h=u(()=>{const t=[],g=m.value,$=e.max;let x=e.min;do t.push(x),x+=g;while(x<$);return t.push($),t}),k=u(()=>{const t=` ${Ge}${I.value}-`;return Ge+`${t}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${t}${C.value===!0?"rtl":"ltr"}`}),R=u(()=>e.markerLabels===!1?null:B(e.markerLabels).map((t,g)=>({index:g,value:t.value,label:t.label||t.value,classes:k.value+(t.classes!==void 0?" "+t.classes:""),style:{...Y(t.value),...t.style||{}}}))),p=u(()=>({markerList:R.value,markerMap:ce.value,classes:k.value,getStyle:Y})),F=u(()=>{const t=oe.value===0?"2px":100*m.value/oe.value;return{...ie.value,backgroundSize:e.vertical===!0?`2px ${t}%`:`${t}% 2px`}});function B(t){if(t===!1)return null;if(t===!0)return h.value.map(Fl);if(typeof t=="function")return h.value.map($=>{const x=t($);return Ae(x)===!0?{...x,value:$}:{value:$,label:x}});const g=({value:$})=>$>=e.min&&$<=e.max;return Array.isArray(t)===!0?t.map($=>Ae($)===!0?$:{value:$}).filter(g):Object.keys(t).map($=>{const x=t[$],P=Number($);return Ae(x)===!0?{...x,value:P}:{value:P,label:x}}).filter(g)}function Y(t){return{[U.value]:`${100*(t-e.min)/W.value}%`}}const ce=u(()=>{if(e.markerLabels===!1)return null;const t={};return R.value.forEach(g=>{t[g.value]=g}),t});function de(){if(i["marker-label-group"]!==void 0)return i["marker-label-group"](p.value);const t=i["marker-label"]||Ll;return R.value.map(g=>t({marker:g,...p.value}))}const qe=u(()=>[[tl,dl,void 0,{[ae.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function dl(t){t.isFinal===!0?(w.value!==void 0&&(d(t.evt),t.touch===!0&&l(!0),w.value=void 0,b("pan","end")),A.value=!1,r.value=!1):t.isFirst===!0?(w.value=c(t.evt),d(t.evt),l(),A.value=!0,b("pan","start")):(d(t.evt),l())}function Qe(){r.value=!1}function vl(t){d(t,c(t)),l(),E.value=!0,A.value=!0,document.addEventListener("mouseup",Se,!0)}function Se(){E.value=!1,A.value=!1,l(!0),Qe(),document.removeEventListener("mouseup",Se,!0)}function ml(t){d(t,c(t)),l(!0)}function bl(t){sl.includes(t.keyCode)&&l(!0)}function gl(t){if(e.vertical===!0)return null;const g=v.lang.rtl!==e.reverse?1-t:t;return{transform:`translateX(calc(${2*g-1} * ${e.thumbSize} / 2 + ${50-100*g}%))`}}function fl(t){const g=u(()=>E.value===!1&&(r.value===t.focusValue||r.value==="both")?" q-slider--focus":""),$=u(()=>`q-slider__thumb q-slider__thumb${I.value} q-slider__thumb${I.value}-${C.value===!0?"rtl":"ltr"} absolute non-selectable`+g.value+(t.thumbColor.value!==void 0?` text-${t.thumbColor.value}`:"")),x=u(()=>({width:e.thumbSize,height:e.thumbSize,[U.value]:`${100*t.ratio.value}%`,zIndex:r.value===t.focusValue?2:void 0})),P=u(()=>t.labelColor.value!==void 0?` text-${t.labelColor.value}`:""),O=u(()=>gl(t.ratio.value)),xe=u(()=>"q-slider__text"+(t.labelTextColor.value!==void 0?` text-${t.labelTextColor.value}`:""));return()=>{const _e=[n("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[n("path",{d:e.thumbPath})]),n("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(_e.push(n("div",{class:ke.value+" absolute fit no-pointer-events"+P.value},[n("div",{class:se.value,style:{minWidth:e.thumbSize}},[n("div",{class:ye.value,style:O.value},[n("span",{class:xe.value},t.label.value)])])])),e.name!==void 0&&e.disable!==!0&&y(_e,"push")),n("div",{class:$.value,style:x.value,...t.getNodeData()},_e)}}function pl(t,g,$,x){const P=[];e.innerTrackColor!=="transparent"&&P.push(n("div",{key:"inner",class:Me.value,style:ie.value})),e.selectionColor!=="transparent"&&P.push(n("div",{key:"selection",class:fe.value,style:t.value})),e.markers!==!1&&P.push(n("div",{key:"marker",class:pe.value,style:F.value})),x(P);const O=[Ze("div",{key:"trackC",class:he.value,tabindex:g.value,...$.value},[n("div",{class:Ve.value,style:we.value},P)],"slide",S.value,()=>qe.value)];if(e.markerLabels!==!1){const xe=e.switchMarkerLabelsSide===!0?"unshift":"push";O[xe](n("div",{key:"markerL",class:Ce.value},de()))}return O}return kl(()=>{document.removeEventListener("mouseup",Se,!0)}),{state:{active:A,focus:r,preventFocus:E,dragging:w,editable:S,classes:T,tabindex:be,attributes:ge,roundValueFn:N,keyStep:M,trackLen:W,innerMin:V,innerMinRatio:X,innerMax:q,innerMaxRatio:le,positionProp:U,sizeProp:j,isReversed:C},methods:{onActivate:vl,onMobileClick:ml,onBlur:Qe,onKeyup:bl,getContent:pl,getThumbRenderFn:fl,convertRatioToModel:$e,convertModelToRatio:te,getDraggingRatio:a}}}const Yl=()=>({});var J=el({name:"QSlider",props:{...Ul,modelValue:{required:!0,default:null,validator:l=>typeof l=="number"||l===null},labelValue:[String,Number]},emits:Ql,setup(l,{emit:d}){const{proxy:{$q:c}}=Fe(),{state:s,methods:e}=zl({updateValue:I,updatePosition:C,getDragging:Q,formAttrs:Rl(l)}),b=D(null),i=D(0),v=D(0);function o(){v.value=l.modelValue===null?s.innerMin.value:Z(l.modelValue,s.innerMin.value,s.innerMax.value)}Ne(()=>`${l.modelValue}|${s.innerMin.value}|${s.innerMax.value}`,o),o();const y=u(()=>e.convertModelToRatio(v.value)),A=u(()=>s.active.value===!0?i.value:y.value),E=u(()=>{const S={[s.positionProp.value]:`${100*s.innerMinRatio.value}%`,[s.sizeProp.value]:`${100*(A.value-s.innerMinRatio.value)}%`};return l.selectionImg!==void 0&&(S.backgroundImage=`url(${l.selectionImg}) !important`),S}),r=e.getThumbRenderFn({focusValue:!0,getNodeData:Yl,ratio:A,label:u(()=>l.labelValue!==void 0?l.labelValue:v.value),thumbColor:u(()=>l.thumbColor||l.color),labelColor:u(()=>l.labelColor),labelTextColor:u(()=>l.labelTextColor)}),w=u(()=>s.editable.value!==!0?{}:c.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:V,onBlur:e.onBlur,onKeydown:q,onKeyup:e.onKeyup});function I(S){v.value!==l.modelValue&&d("update:modelValue",v.value),S===!0&&d("change",v.value)}function Q(){return b.value.getBoundingClientRect()}function C(S,N=s.dragging.value){const M=e.getDraggingRatio(S,N);v.value=e.convertRatioToModel(M),i.value=l.snap!==!0||l.step===0?M:e.convertModelToRatio(v.value)}function V(){s.focus.value=!0}function q(S){if(!sl.includes(S.keyCode))return;Vl(S);const N=([34,33].includes(S.keyCode)?10:1)*s.keyStep.value,M=([34,37,40].includes(S.keyCode)?-1:1)*(s.isReversed.value===!0?-1:1)*(l.vertical===!0?-1:1)*N;v.value=Z(s.roundValueFn.value(v.value+M),s.innerMin.value,s.innerMax.value),I()}return()=>{const S=e.getContent(E,s.tabindex,w,N=>{N.push(r())});return n("div",{ref:b,class:s.classes.value+(l.modelValue===null?" q-slider--no-value":""),...s.attributes.value,"aria-valuenow":l.modelValue},S)}}});const Ol=/^rgb(a)?\((\d{1,3}),(\d{1,3}),(\d{1,3}),?([01]?\.?\d*?)?\)$/;function We({r:l,g:d,b:c,a:s}){const e=s!==void 0;if(l=Math.round(l),d=Math.round(d),c=Math.round(c),l>255||d>255||c>255||e&&s>100)throw new TypeError("Expected 3 numbers below 256 (and optionally one below 100)");return s=e?(Math.round(255*s/100)|1<<8).toString(16).slice(1):"","#"+(c|d<<8|l<<16|1<<24).toString(16).slice(1)+s}function Xe({r:l,g:d,b:c,a:s}){return`rgb${s!==void 0?"a":""}(${l},${d},${c}${s!==void 0?","+s/100:""})`}function il(l){if(typeof l!="string")throw new TypeError("Expected a string");l=l.replace(/^#/,""),l.length===3?l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]:l.length===4&&(l=l[0]+l[0]+l[1]+l[1]+l[2]+l[2]+l[3]+l[3]);const d=parseInt(l,16);return l.length>6?{r:d>>24&255,g:d>>16&255,b:d>>8&255,a:Math.round((d&255)/2.55)}:{r:d>>16,g:d>>8&255,b:d&255}}function Ke({h:l,s:d,v:c,a:s}){let e,b,i;d=d/100,c=c/100,l=l/360;const v=Math.floor(l*6),o=l*6-v,y=c*(1-d),A=c*(1-o*d),E=c*(1-(1-o)*d);switch(v%6){case 0:e=c,b=E,i=y;break;case 1:e=A,b=c,i=y;break;case 2:e=y,b=c,i=E;break;case 3:e=y,b=A,i=c;break;case 4:e=E,b=y,i=c;break;case 5:e=c,b=y,i=A;break}return{r:Math.round(e*255),g:Math.round(b*255),b:Math.round(i*255),a:s}}function Ie({r:l,g:d,b:c,a:s}){const e=Math.max(l,d,c),b=Math.min(l,d,c),i=e-b,v=e===0?0:i/e,o=e/255;let y;switch(e){case b:y=0;break;case l:y=d-c+i*(d<c?6:0),y/=6*i;break;case d:y=c-l+i*2,y/=6*i;break;case c:y=l-d+i*4,y/=6*i;break}return{h:Math.round(y*360),s:Math.round(v*100),v:Math.round(o*100),a:s}}function cl(l){if(typeof l!="string")throw new TypeError("Expected a string");const d=l.replace(/ /g,""),c=Ol.exec(d);if(c===null)return il(d);const s={r:Math.min(255,parseInt(c[2],10)),g:Math.min(255,parseInt(c[3],10)),b:Math.min(255,parseInt(c[4],10))};if(c[1]){const e=parseFloat(c[5]);s.a=Math.min(1,isNaN(e)===!0?1:e)*100}return s}function jl(l){if(typeof l!="string"&&(!l||l.r===void 0))throw new TypeError("Expected a string or a {r, g, b} object as color");const d=typeof l=="string"?cl(l):l,c=d.r/255,s=d.g/255,e=d.b/255,b=c<=.03928?c/12.92:Math.pow((c+.055)/1.055,2.4),i=s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4),v=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4);return .2126*b+.7152*i+.0722*v}const Hl=["rgb(255,204,204)","rgb(255,230,204)","rgb(255,255,204)","rgb(204,255,204)","rgb(204,255,230)","rgb(204,255,255)","rgb(204,230,255)","rgb(204,204,255)","rgb(230,204,255)","rgb(255,204,255)","rgb(255,153,153)","rgb(255,204,153)","rgb(255,255,153)","rgb(153,255,153)","rgb(153,255,204)","rgb(153,255,255)","rgb(153,204,255)","rgb(153,153,255)","rgb(204,153,255)","rgb(255,153,255)","rgb(255,102,102)","rgb(255,179,102)","rgb(255,255,102)","rgb(102,255,102)","rgb(102,255,179)","rgb(102,255,255)","rgb(102,179,255)","rgb(102,102,255)","rgb(179,102,255)","rgb(255,102,255)","rgb(255,51,51)","rgb(255,153,51)","rgb(255,255,51)","rgb(51,255,51)","rgb(51,255,153)","rgb(51,255,255)","rgb(51,153,255)","rgb(51,51,255)","rgb(153,51,255)","rgb(255,51,255)","rgb(255,0,0)","rgb(255,128,0)","rgb(255,255,0)","rgb(0,255,0)","rgb(0,255,128)","rgb(0,255,255)","rgb(0,128,255)","rgb(0,0,255)","rgb(128,0,255)","rgb(255,0,255)","rgb(245,0,0)","rgb(245,123,0)","rgb(245,245,0)","rgb(0,245,0)","rgb(0,245,123)","rgb(0,245,245)","rgb(0,123,245)","rgb(0,0,245)","rgb(123,0,245)","rgb(245,0,245)","rgb(214,0,0)","rgb(214,108,0)","rgb(214,214,0)","rgb(0,214,0)","rgb(0,214,108)","rgb(0,214,214)","rgb(0,108,214)","rgb(0,0,214)","rgb(108,0,214)","rgb(214,0,214)","rgb(163,0,0)","rgb(163,82,0)","rgb(163,163,0)","rgb(0,163,0)","rgb(0,163,82)","rgb(0,163,163)","rgb(0,82,163)","rgb(0,0,163)","rgb(82,0,163)","rgb(163,0,163)","rgb(92,0,0)","rgb(92,46,0)","rgb(92,92,0)","rgb(0,92,0)","rgb(0,92,46)","rgb(0,92,92)","rgb(0,46,92)","rgb(0,0,92)","rgb(46,0,92)","rgb(92,0,92)","rgb(255,255,255)","rgb(205,205,205)","rgb(178,178,178)","rgb(153,153,153)","rgb(127,127,127)","rgb(102,102,102)","rgb(76,76,76)","rgb(51,51,51)","rgb(25,25,25)","rgb(0,0,0)"],Je="M5 5 h10 v10 h-10 v-10 z",Gl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAH0lEQVQoU2NkYGAwZkAFZ5G5jPRRgOYEVDeB3EBjBQBOZwTVugIGyAAAAABJRU5ErkJggg==";var Re=el({name:"QColor",props:{...ul,...ol,modelValue:String,defaultValue:String,defaultView:{type:String,default:"spectrum",validator:l=>["spectrum","tune","palette"].includes(l)},formatModel:{type:String,default:"auto",validator:l=>["auto","hex","rgb","hexa","rgba"].includes(l)},palette:Array,noHeader:Boolean,noHeaderTabs:Boolean,noFooter:Boolean,square:Boolean,flat:Boolean,bordered:Boolean,disable:Boolean,readonly:Boolean},emits:["update:modelValue","change"],setup(l,{emit:d}){const{proxy:c}=Fe(),{$q:s}=c,e=rl(l,s),{getCache:b}=Tl(),i=D(null),v=D(null),o=u(()=>l.formatModel==="auto"?null:l.formatModel.indexOf("hex")!==-1),y=u(()=>l.formatModel==="auto"?null:l.formatModel.indexOf("a")!==-1),A=D(l.formatModel==="auto"?l.modelValue===void 0||l.modelValue===null||l.modelValue===""||l.modelValue.startsWith("#")?"hex":"rgb":l.formatModel.startsWith("hex")?"hex":"rgb"),E=D(l.defaultView),r=D(j(l.modelValue||l.defaultValue)),w=u(()=>l.disable!==!0&&l.readonly!==!0),I=u(()=>l.modelValue===void 0||l.modelValue===null||l.modelValue===""||l.modelValue.startsWith("#")),Q=u(()=>o.value!==null?o.value:I.value),C=u(()=>({type:"hidden",name:l.name,value:r.value[Q.value===!0?"hex":"rgb"]})),V=nl(C),q=u(()=>y.value!==null?y.value:r.value.a!==void 0),S=u(()=>({backgroundColor:r.value.rgb||"#000"})),N=u(()=>`q-color-picker__header-content q-color-picker__header-content--${(r.value.a!==void 0&&r.value.a<65?!0:jl(r.value)>.4)?"light":"dark"}`),M=u(()=>({background:`hsl(${r.value.h},100%,50%)`})),be=u(()=>({top:`${100-r.value.v}%`,[s.lang.rtl===!0?"right":"left"]:`${r.value.s}%`})),W=u(()=>l.palette!==void 0&&l.palette.length!==0?l.palette:Hl),oe=u(()=>"q-color-picker"+(l.bordered===!0?" q-color-picker--bordered":"")+(l.square===!0?" q-color-picker--square no-border-radius":"")+(l.flat===!0?" q-color-picker--flat no-shadow":"")+(l.disable===!0?" disabled":"")+(e.value===!0?" q-color-picker--dark q-dark":"")),X=u(()=>l.disable===!0?{"aria-disabled":"true"}:{}),le=u(()=>[[tl,fe,void 0,{prevent:!0,stop:!0,mouse:!0}]]);Ne(()=>l.modelValue,a=>{const m=j(a||l.defaultValue);m.hex!==r.value.hex&&(r.value=m)}),Ne(()=>l.defaultValue,a=>{if(!l.modelValue&&a){const m=j(a);m.hex!==r.value.hex&&(r.value=m)}});function U(a,m){r.value.hex=We(a),r.value.rgb=Xe(a),r.value.r=a.r,r.value.g=a.g,r.value.b=a.b,r.value.a=a.a;const h=r.value[Q.value===!0?"hex":"rgb"];d("update:modelValue",h),m===!0&&d("change",h)}function j(a){const m=y.value!==void 0?y.value:l.formatModel==="auto"?null:l.formatModel.indexOf("a")!==-1;if(typeof a!="string"||a.length===0||Pl.anyColor(a.replace(/ /g,""))!==!0)return{h:0,s:0,v:0,r:0,g:0,b:0,a:m===!0?100:void 0,hex:void 0,rgb:void 0};const h=cl(a);return m===!0&&h.a===void 0&&(h.a=100),h.hex=We(h),h.rgb=Xe(h),Object.assign(h,Ie(h))}function K(a,m,h){const k=i.value;if(k===null)return;const R=k.clientWidth,p=k.clientHeight,F=k.getBoundingClientRect();let B=Math.min(R,Math.max(0,a-F.left));s.lang.rtl===!0&&(B=R-B);const Y=Math.min(p,Math.max(0,m-F.top)),ce=Math.round(100*B/R),de=Math.round(100*Math.max(0,Math.min(1,-(Y/p)+1))),qe=Ke({h:r.value.h,s:ce,v:de,a:q.value===!0?r.value.a:void 0});r.value.s=ce,r.value.v=de,U(qe,h)}function ae(a,m){const h=Math.round(a),k=Ke({h,s:r.value.s,v:r.value.v,a:q.value===!0?r.value.a:void 0});r.value.h=h,U(k,m)}function ge(a){ae(a,!0)}function T(a,m,h,k,R){if(k!==void 0&&G(k),!/^[0-9]+$/.test(a)){R===!0&&c.$forceUpdate();return}const p=Math.floor(Number(a));if(p<0||p>h){R===!0&&c.$forceUpdate();return}const F={r:m==="r"?p:r.value.r,g:m==="g"?p:r.value.g,b:m==="b"?p:r.value.b,a:q.value===!0?m==="a"?p:r.value.a:void 0};if(m!=="a"){const B=Ie(F);r.value.h=B.h,r.value.s=B.s,r.value.v=B.v}if(U(F,R),k!==void 0&&R!==!0&&k.target.selectionEnd!==void 0){const B=k.target.selectionEnd;ze(()=>{k.target.setSelectionRange(B,B)})}}function H(a,m){let h;const k=a.target.value;if(G(a),A.value==="hex"){if(k.length!==(q.value===!0?9:7)||!/^#[0-9A-Fa-f]+$/.test(k))return!0;h=il(k)}else{let p;if(k.endsWith(")"))if(q.value!==!0&&k.startsWith("rgb(")){if(p=k.substring(4,k.length-1).split(",").map(F=>parseInt(F,10)),p.length!==3||!/^rgb\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3}\)$/.test(k))return!0}else if(q.value===!0&&k.startsWith("rgba(")){if(p=k.substring(5,k.length-1).split(","),p.length!==4||!/^rgba\([0-9]{1,3},[0-9]{1,3},[0-9]{1,3},(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/.test(k))return!0;for(let B=0;B<3;B++){const Y=parseInt(p[B],10);if(Y<0||Y>255)return!0;p[B]=Y}const F=parseFloat(p[3]);if(F<0||F>1)return!0;p[3]=F}else return!0;else return!0;if(p[0]<0||p[0]>255||p[1]<0||p[1]>255||p[2]<0||p[2]>255||q.value===!0&&(p[3]<0||p[3]>1))return!0;h={r:p[0],g:p[1],b:p[2],a:q.value===!0?p[3]*100:void 0}}const R=Ie(h);if(r.value.h=R.h,r.value.s=R.s,r.value.v=R.v,U(h,m),m!==!0){const p=a.target.selectionEnd;ze(()=>{a.target.setSelectionRange(p,p)})}}function ne(a){const m=j(a),h={r:m.r,g:m.g,b:m.b,a:m.a};h.a===void 0&&(h.a=r.value.a),r.value.h=m.h,r.value.s=m.s,r.value.v=m.v,U(h,!0)}function fe(a){a.isFinal?K(a.position.left,a.position.top,!0):pe(a)}const pe=wl(a=>{K(a.position.left,a.position.top)},20);function he(a){K(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset,!0)}function ke(a){K(a.pageX-window.pageXOffset,a.pageY-window.pageYOffset)}function se(a){v.value!==null&&(v.value.$el.style.opacity=a?1:0)}function ye(a){A.value=a}function Ce(){const a=[];return l.noHeaderTabs!==!0&&a.push(n(He,{class:"q-color-picker__header-tabs",modelValue:A.value,dense:!0,align:"justify","onUpdate:modelValue":ye},()=>[n(re,{label:"HEX"+(q.value===!0?"A":""),name:"hex",ripple:!1}),n(re,{label:"RGB"+(q.value===!0?"A":""),name:"rgb",ripple:!1})])),a.push(n("div",{class:"q-color-picker__header-banner row flex-center no-wrap"},[n("input",{class:"fit",value:r.value[A.value],...w.value!==!0?{readonly:!0}:{},...b("topIn",{onInput:m=>{se(H(m)===!0)},onChange:G,onBlur:m=>{H(m,!0)===!0&&c.$forceUpdate(),se(!1)}})}),n(ee,{ref:v,class:"q-color-picker__error-icon absolute no-pointer-events",name:s.iconSet.type.negative})])),n("div",{class:"q-color-picker__header relative-position overflow-hidden"},[n("div",{class:"q-color-picker__header-bg absolute-full"}),n("div",{class:N.value,style:S.value},a)])}function Ve(){return n(Nl,{modelValue:E.value,animated:!0},()=>[n(Ee,{class:"q-color-picker__spectrum-tab overflow-hidden",name:"spectrum"},ie),n(Ee,{class:"q-pa-md q-color-picker__tune-tab",name:"tune"},$e),n(Ee,{class:"q-color-picker__palette-tab",name:"palette"},te)])}function we(a){E.value=a}function Me(){return n("div",{class:"q-color-picker__footer relative-position overflow-hidden"},[n(He,{class:"absolute-full",modelValue:E.value,dense:!0,align:"justify","onUpdate:modelValue":we},()=>[n(re,{icon:s.iconSet.colorPicker.spectrum,name:"spectrum",ripple:!1}),n(re,{icon:s.iconSet.colorPicker.tune,name:"tune",ripple:!1}),n(re,{icon:s.iconSet.colorPicker.palette,name:"palette",ripple:!1})])])}function ie(){const a={ref:i,class:"q-color-picker__spectrum non-selectable relative-position cursor-pointer"+(w.value!==!0?" readonly":""),style:M.value,...w.value===!0?{onClick:he,onMousedown:ke}:{}},m=[n("div",{style:{paddingBottom:"100%"}}),n("div",{class:"q-color-picker__spectrum-white absolute-full"}),n("div",{class:"q-color-picker__spectrum-black absolute-full"}),n("div",{class:"absolute",style:be.value},[r.value.hex!==void 0?n("div",{class:"q-color-picker__spectrum-circle"}):null])],h=[n(J,{class:"q-color-picker__hue non-selectable",modelValue:r.value.h,min:0,max:360,trackSize:"8px",innerTrackColor:"transparent",selectionColor:"transparent",readonly:w.value!==!0,thumbPath:Je,"onUpdate:modelValue":ae,onChange:ge})];return q.value===!0&&h.push(n(J,{class:"q-color-picker__alpha non-selectable",modelValue:r.value.a,min:0,max:100,trackSize:"8px",trackColor:"white",innerTrackColor:"transparent",selectionColor:"transparent",trackImg:Gl,readonly:w.value!==!0,hideSelection:!0,thumbPath:Je,...b("alphaSlide",{"onUpdate:modelValue":k=>T(k,"a",100),onChange:k=>T(k,"a",100,void 0,!0)})})),[Ze("div",a,m,"spec",w.value,()=>le.value),n("div",{class:"q-color-picker__sliders"},h)]}function $e(){return[n("div",{class:"row items-center no-wrap"},[n("div","R"),n(J,{modelValue:r.value.r,min:0,max:255,color:"red",dark:e.value,readonly:w.value!==!0,...b("rSlide",{"onUpdate:modelValue":a=>T(a,"r",255),onChange:a=>T(a,"r",255,void 0,!0)})}),n("input",{value:r.value.r,maxlength:3,readonly:w.value!==!0,onChange:G,...b("rIn",{onInput:a=>T(a.target.value,"r",255,a),onBlur:a=>T(a.target.value,"r",255,a,!0)})})]),n("div",{class:"row items-center no-wrap"},[n("div","G"),n(J,{modelValue:r.value.g,min:0,max:255,color:"green",dark:e.value,readonly:w.value!==!0,...b("gSlide",{"onUpdate:modelValue":a=>T(a,"g",255),onChange:a=>T(a,"g",255,void 0,!0)})}),n("input",{value:r.value.g,maxlength:3,readonly:w.value!==!0,onChange:G,...b("gIn",{onInput:a=>T(a.target.value,"g",255,a),onBlur:a=>T(a.target.value,"g",255,a,!0)})})]),n("div",{class:"row items-center no-wrap"},[n("div","B"),n(J,{modelValue:r.value.b,min:0,max:255,color:"blue",readonly:w.value!==!0,dark:e.value,...b("bSlide",{"onUpdate:modelValue":a=>T(a,"b",255),onChange:a=>T(a,"b",255,void 0,!0)})}),n("input",{value:r.value.b,maxlength:3,readonly:w.value!==!0,onChange:G,...b("bIn",{onInput:a=>T(a.target.value,"b",255,a),onBlur:a=>T(a.target.value,"b",255,a,!0)})})]),q.value===!0?n("div",{class:"row items-center no-wrap"},[n("div","A"),n(J,{modelValue:r.value.a,color:"grey",readonly:w.value!==!0,dark:e.value,...b("aSlide",{"onUpdate:modelValue":a=>T(a,"a",100),onChange:a=>T(a,"a",100,void 0,!0)})}),n("input",{value:r.value.a,maxlength:3,readonly:w.value!==!0,onChange:G,...b("aIn",{onInput:a=>T(a.target.value,"a",100,a),onBlur:a=>T(a.target.value,"a",100,a,!0)})})]):null]}function te(){const a=m=>n("div",{class:"q-color-picker__cube col-auto",style:{backgroundColor:m},...w.value===!0?b("palette#"+m,{onClick:()=>{ne(m)}}):{}});return[n("div",{class:"row items-center q-color-picker__palette-rows"+(w.value===!0?" q-color-picker__palette-rows--editable":"")},W.value.map(a))]}return()=>{const a=[Ve()];return l.name!==void 0&&l.disable!==!0&&V(a,"push"),l.noHeader!==!0&&a.unshift(Ce()),l.noFooter!==!0&&a.push(Me()),n("div",{class:oe.value,...X.value},a)}}});const Wl={class:"row"},Xl={class:"row"},Kl=Le({__name:"ColorCircle",props:{colorValue:{default:""},colorNumber:{default:","}},emits:["color-change"],setup(l,{emit:d}){const c=l,s=d,e=D(JSON.parse(c.colorValue)),b=()=>{e.value.upTime=+e.value.upTime,e.value.constTime=+e.value.constTime,e.value.downTime=+e.value.downTime,e.value.speed=+e.value.speed,s("color-change",{colorNumber:c.colorNumber,color:JSON.stringify(e)})};return(i,v)=>(Ue(),ll(al,null,[L("h6",null,me(i.$t(`color${i.colorNumber}`)),1),L("section",Wl,[f(z,{filled:"",modelValue:e.value.color1,"onUpdate:modelValue":v[1]||(v[1]=o=>e.value.color1=o),rules:["anyColor"],class:"col-3 q-mr-md field",label:i.$t("color1")},{prepend:_(()=>[L("div",{class:"colorPreview",style:Te({backgroundColor:e.value.color1})},null,4)]),append:_(()=>[f(ee,{name:"colorize",class:"cursor-pointer"},{default:_(()=>[f(ue,{"transition-show":"scale","transition-hide":"scale"},{default:_(()=>[f(Re,{modelValue:e.value.color1,"onUpdate:modelValue":[v[0]||(v[0]=o=>e.value.color1=o),b]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),f(z,{filled:"",modelValue:e.value.color2,"onUpdate:modelValue":v[3]||(v[3]=o=>e.value.color2=o),rules:["anyColor"],class:"col-3 q-mr-md field",label:i.$t("color2")},{prepend:_(()=>[L("div",{class:"colorPreview",style:Te({backgroundColor:e.value.color2})},null,4)]),append:_(()=>[f(ee,{name:"colorize",class:"cursor-pointer"},{default:_(()=>[f(ue,{"transition-show":"scale","transition-hide":"scale"},{default:_(()=>[f(Re,{modelValue:e.value.color2,"onUpdate:modelValue":[v[2]||(v[2]=o=>e.value.color2=o),b]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"]),f(z,{filled:"",modelValue:e.value.color3,"onUpdate:modelValue":v[5]||(v[5]=o=>e.value.color3=o),rules:["anyColor"],class:"col-3 q-mr-md field",label:i.$t("color3")},{prepend:_(()=>[L("div",{class:"colorPreview",style:Te({backgroundColor:e.value.color3})},null,4)]),append:_(()=>[f(ee,{name:"colorize",class:"cursor-pointer"},{default:_(()=>[f(ue,{"transition-show":"scale","transition-hide":"scale"},{default:_(()=>[f(Re,{modelValue:e.value.color3,"onUpdate:modelValue":[v[4]||(v[4]=o=>e.value.color3=o),b]},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","label"])]),L("section",Xl,[f(z,{label:i.$t("upTime"),class:"q-mr-md field",filled:"",type:"number",modelValue:e.value.upTime,"onUpdate:modelValue":[v[6]||(v[6]=o=>e.value.upTime=o),b],min:"1",max:"60","lazy-rules":"",rules:[o=>o!==null&&o!==""||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",o=>o>=1&&o<=25||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"]},null,8,["label","modelValue","rules"]),f(z,{label:i.$t("constTime"),class:"q-mr-md field",filled:"",type:"number",modelValue:e.value.constTime,"onUpdate:modelValue":[v[7]||(v[7]=o=>e.value.constTime=o),b],min:"1",max:"60","lazy-rules":"",rules:[o=>o!==null&&o!==""||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",o=>+o>=1&&+o<=25||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"]},null,8,["label","modelValue","rules"]),f(z,{label:i.$t("downTime"),class:"q-mr-md field",filled:"",type:"number",modelValue:e.value.downTime,"onUpdate:modelValue":[v[8]||(v[8]=o=>e.value.downTime=o),b],min:"1",max:"60","lazy-rules":"",rules:[o=>o!==null&&o!==""||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",o=>+o>=1&&+o<=25||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"]},null,8,["label","modelValue","rules"]),f(z,{label:i.$t("speed"),class:"field",filled:"",type:"number",modelValue:e.value.speed,"onUpdate:modelValue":[v[9]||(v[9]=o=>e.value.speed=o),b],min:"1",max:"60","lazy-rules":"",rules:[o=>o!==null&&o!==""||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",o=>+o>=1&&+o<=25||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043E\u0440\u0440\u0435\u043A\u0442\u043D\u043E\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"]},null,8,["label","modelValue","rules"])])],64))}});var Pe=Ml(Kl,[["__scopeId","data-v-00ccd65a"]]);const Jl={class:"self-center no-outline label"},Zl={class:"row"},ea={class:"row items-center justify-end"},la={class:"row items-center justify-end"},aa=Le({__name:"AquadoctorOrderEdit",setup(l){var w,I,Q;const{formatDate:d,extractDate:c}=El,e=+$l().params.orderId,b=Il(),i=D(null);i.value=b.getAquadoctorById(e);const v=D(!1),o=D(d((w=i.value)==null?void 0:w.startDate,"YYYY/MM/DD")),y=D(d((I=i.value)==null?void 0:I.endDate,"YYYY/MM/DD")),A=D(((Q=i.value)==null?void 0:Q.active)||!1),E=async()=>{v.value=!1,i.value&&(i.value.active=A.value,i.value.startDate=c(o.value,"YYYY/MM/DD").getTime(),i.value.endDate=c(y.value,"YYYY/MM/DD").getTime(),b.update(i.value))},r=C=>{if(!!i.value){switch(C.colorNumber){case"1":i.value.color1=C.color;break;case"2":i.value.color2=C.color;break;case"3":i.value.color3=C.color;break;default:return}v.value=!0}};return(C,V)=>(Ue(),ll(al,null,[L("h5",null,me(C.$t("AquadoctorEdit")),1),f(Bl,{class:De(["q-gutter-md q-mt-lg",{"table-desktop":C.$q.screen.gt.sm}]),onSubmit:ql(E,["prevent","stop"])},{default:_(()=>{var q,S,N;return[f(Al,{borderless:""},{default:_(()=>{var M;return[L("div",Jl,[L("span",null,me(C.$t("created"))+": ",1),Sl(" "+me(xl(d)((M=i.value)==null?void 0:M.created,"YYYY/MM/DD"))+" ",1),f(Be,{disable:!v.value,outline:"",class:"q-ml-xl",color:"primary",type:"submit",label:C.$t("save")},null,8,["disable","label"])])]}),_:1}),f(ve,{inset:""}),L("section",Zl,[f(z,{outlined:"",modelValue:o.value,"onUpdate:modelValue":[V[1]||(V[1]=M=>o.value=M),V[2]||(V[2]=M=>v.value=!0)],mask:"date",rules:["date"],label:C.$t("startDate")+" *",class:De(["col-4 q-mr-md",{"col-12":C.$q.screen.lt.md}])},{append:_(()=>[f(ee,{name:"event",class:"cursor-pointer"},{default:_(()=>[f(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:_(()=>[f(Oe,{modelValue:o.value,"onUpdate:modelValue":V[0]||(V[0]=M=>o.value=M),title:o.value,subtitle:C.$t("startDate")},{default:_(()=>[L("div",ea,[Ye(f(Be,{label:C.$t("close"),color:"primary",flat:""},null,8,["label"]),[[je]])])]),_:1},8,["modelValue","title","subtitle"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","class"]),f(z,{outlined:"",modelValue:y.value,"onUpdate:modelValue":[V[4]||(V[4]=M=>y.value=M),V[5]||(V[5]=M=>v.value=!0)],mask:"date",rules:["date"],label:C.$t("endDate")+" *",class:De(["col-4 q-mr-md",{"col-12":C.$q.screen.lt.md}])},{append:_(()=>[f(ee,{name:"event",class:"cursor-pointer"},{default:_(()=>[f(ue,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:_(()=>[f(Oe,{modelValue:y.value,"onUpdate:modelValue":V[3]||(V[3]=M=>y.value=M),title:y.value,subtitle:C.$t("endDate")},{default:_(()=>[L("div",la,[Ye(f(Be,{label:C.$t("close"),color:"primary",flat:""},null,8,["label"]),[[je]])])]),_:1},8,["modelValue","title","subtitle"])]),_:1})]),_:1})]),_:1},8,["modelValue","label","class"]),f(Dl,{modelValue:A.value,"onUpdate:modelValue":[V[6]||(V[6]=M=>A.value=M),V[7]||(V[7]=M=>v.value=!0)],label:C.$t("ActiveState"),class:"col-3 q-mr-md"},null,8,["modelValue","label"])]),f(ve,{inset:""}),f(Pe,{"color-value":(q=i.value)==null?void 0:q.color1,"color-number":"1",onColorChange:r},null,8,["color-value"]),f(ve,{inset:""}),f(Pe,{"color-value":(S=i.value)==null?void 0:S.color2,"color-number":"2",onColorChange:r},null,8,["color-value"]),f(ve,{inset:""}),f(Pe,{"color-value":(N=i.value)==null?void 0:N.color3,"color-number":"3",onColorChange:r},null,8,["color-value"])]}),_:1},8,["class"])],64))}}),ha=Le({__name:"AquadoctorEditPage",setup(l){return(d,c)=>(Ue(),_l(hl,{class:"q-mx-md q-my-sm"},{default:_(()=>[f(aa)]),_:1}))}});export{ha as default};
