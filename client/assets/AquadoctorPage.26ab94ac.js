import{l as de,r as B,c as _,w as ve,n as fe,I as ye,C as be,h as v,p as Le,g as ce,m as De,x as he,i as Qe,J as Se,aV as Be,am as Me,an as Ie,ao as He,G as Pe,z as We,ax as Ve,N as Xe,f as Ge,ad as Je,aS as Ye,ah as me,Q as Ke,a9 as X,aJ as Ze,aT as Ee,aU as ke,d as Oe,a3 as et,a4 as Fe,W,a5 as Ae,j as V,Y as N,a1 as qe,a7 as le,X as Y,$ as ae,Z as K,a0 as pe}from"./index.aa73692f.js";import{k as tt,u as at,l as ot,v as xe,m as lt,a as ut,o as nt,d as rt,p as st,q as it,r as dt,b as ct,s as vt,t as we,w as ft,c as Ce,g as mt,x as ze,z as pt,e as gt,E as Ue}from"./position-engine.3fcad627.js";import{u as ht,a as _t}from"./focus-manager.6aaf34c3.js";import{u as yt}from"./use-quasar.c0f86e09.js";var oe=de({name:"QTooltip",inheritAttrs:!1,props:{...tt,...at,...ot,maxHeight:{type:String,default:null},maxWidth:{type:String,default:null},transitionShow:{default:"jump-down"},transitionHide:{default:"jump-up"},anchor:{type:String,default:"bottom middle",validator:xe},self:{type:String,default:"top middle",validator:xe},offset:{type:Array,default:()=>[14,14],validator:lt},scrollTarget:{default:void 0},delay:{type:Number,default:0},hideDelay:{type:Number,default:0}},emits:[...ut],setup(e,{slots:r,emit:u,attrs:l}){let n,i;const y=ce(),{proxy:{$q:b}}=y,F=B(null),w=B(!1),f=_(()=>ze(e.anchor,b.lang.rtl)),$=_(()=>ze(e.self,b.lang.rtl)),E=_(()=>e.persistent!==!0),{registerTick:S,removeTick:t}=nt(),{registerTimeout:m}=rt(),{transitionProps:U,transitionStyle:p}=st(e),{localScrollTarget:o,changeScrollEvent:C,unconfigureScrollTarget:R}=it(e,te),{anchorEl:q,canShow:d,anchorEvents:g}=dt({showing:w,configureAnchorEl:ee}),{show:O,hide:c}=ct({showing:w,canShow:d,handleShow:L,handleHide:H,hideOnRouteChange:E,processOnMount:!0});Object.assign(g,{delayShow:G,delayHide:ue});const{showPortal:k,hidePortal:A,renderPortal:s}=vt(y,F,re,"tooltip");if(b.platform.is.mobile===!0){const x={anchorEl:q,innerRef:F,onClickOutside(j){return c(j),j.target.classList.contains("q-dialog__backdrop")&&he(j),!0}},Q=_(()=>e.modelValue===null&&e.persistent!==!0&&w.value===!0);ve(Q,j=>{(j===!0?pt:we)(x)}),fe(()=>{we(x)})}function L(x){k(),S(()=>{i=new MutationObserver(()=>z()),i.observe(F.value,{attributes:!1,childList:!0,characterData:!0,subtree:!0}),z(),te()}),n===void 0&&(n=ve(()=>b.screen.width+"|"+b.screen.height+"|"+e.self+"|"+e.anchor+"|"+b.lang.rtl,z)),m(()=>{k(!0),u("show",x)},e.transitionDuration)}function H(x){t(),A(),D(),m(()=>{A(!0),u("hide",x)},e.transitionDuration)}function D(){i!==void 0&&(i.disconnect(),i=void 0),n!==void 0&&(n(),n=void 0),R(),ye(g,"tooltipTemp")}function z(){ft({targetEl:F.value,offset:e.offset,anchorEl:q.value,anchorOrigin:f.value,selfOrigin:$.value,maxHeight:e.maxHeight,maxWidth:e.maxWidth})}function G(x){if(b.platform.is.mobile===!0){Ce(),document.body.classList.add("non-selectable");const Q=q.value,j=["touchmove","touchcancel","touchend","click"].map(se=>[Q,se,"delayHide","passiveCapture"]);be(g,"tooltipTemp",j)}m(()=>{O(x)},e.delay)}function ue(x){b.platform.is.mobile===!0&&(ye(g,"tooltipTemp"),Ce(),setTimeout(()=>{document.body.classList.remove("non-selectable")},10)),m(()=>{c(x)},e.hideDelay)}function ee(){if(e.noParentEvent===!0||q.value===null)return;const x=b.platform.is.mobile===!0?[[q.value,"touchstart","delayShow","passive"]]:[[q.value,"mouseenter","delayShow","passive"],[q.value,"mouseleave","delayHide","passive"]];be(g,"anchor",x)}function te(){if(q.value!==null||e.scrollTarget!==void 0){o.value=mt(q.value,e.scrollTarget);const x=e.noParentEvent===!0?z:c;C(o.value,x)}}function ne(){return w.value===!0?v("div",{...l,ref:F,class:["q-tooltip q-tooltip--style q-position-engine no-pointer-events",l.class],style:[l.style,p.value],role:"tooltip"},De(r.default)):null}function re(){return v(Le,U.value,ne)}return fe(D),Object.assign(y.proxy,{updatePosition:z}),s}}),bt=de({name:"QUploaderAddTrigger",setup(){const e=Qe(Be,Se);return e===Se&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}});const St={...Me,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ge=50,$e=2*ge,Ne=$e*Math.PI,kt=Math.round(Ne*1e3)/1e3;var Ft=de({name:"QCircularProgress",props:{...St,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:r}){const{proxy:{$q:u}}=ce(),l=Ie(e),n=_(()=>{const S=(u.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(u.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-S}deg)`:`rotate3d(0, 0, 1, ${S-90}deg)`}}),i=_(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),y=_(()=>$e/(1-e.thickness/2)),b=_(()=>`${y.value/2} ${y.value/2} ${y.value} ${y.value}`),F=_(()=>gt(e.value,e.min,e.max)),w=_(()=>e.max-e.min),f=_(()=>e.thickness/2*y.value),$=_(()=>{const S=(e.max-F.value)/w.value,t=e.rounded===!0&&F.value<e.max&&S<.25?f.value/2*(1-S/.25):0;return Ne*S+t});function E({thickness:S,offset:t,color:m,cls:U,rounded:p}){return v("circle",{class:"q-circular-progress__"+U+(m!==void 0?` text-${m}`:""),style:i.value,fill:"transparent",stroke:"currentColor","stroke-width":S,"stroke-dasharray":kt,"stroke-dashoffset":t,"stroke-linecap":p,cx:y.value,cy:y.value,r:ge})}return()=>{const S=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&S.push(v("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ge-f.value/2,cx:y.value,cy:y.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&S.push(E({cls:"track",thickness:f.value,offset:0,color:e.trackColor})),S.push(E({cls:"circle",thickness:f.value,offset:$.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[v("svg",{class:"q-circular-progress__svg",style:n.value,viewBox:b.value,"aria-hidden":"true"},S)];return e.showValue===!0&&t.push(v("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},r.default!==void 0?r.default():[v("div",F.value)])),v("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:l.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:F.value},He(r.internal,t))}}});function Z(e,r,u,l){const n=[];return e.forEach(i=>{l(i)===!0?n.push(i):r.push({failedPropValidation:u,file:i})}),n}function ie(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),he(e)}const qt={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},xt=["rejected"];function wt({editable:e,dnd:r,getFileInput:u,addFilesToQueue:l}){const{props:n,emit:i,proxy:y}=ce(),b=B(null),F=_(()=>n.accept!==void 0?n.accept.split(",").map(o=>(o=o.trim(),o==="*"?"*/":(o.endsWith("/*")&&(o=o.slice(0,o.length-1)),o.toUpperCase()))):null),w=_(()=>parseInt(n.maxFiles,10)),f=_(()=>parseInt(n.maxTotalSize,10));function $(o){if(e.value)if(o!==Object(o)&&(o={target:null}),o.target!==null&&o.target.matches('input[type="file"]')===!0)o.clientX===0&&o.clientY===0&&Pe(o);else{const C=u();C&&C!==o.target&&C.click(o)}}function E(o){e.value&&o&&l(null,o)}function S(o,C,R,q){let d=Array.from(C||o.target.files);const g=[],O=()=>{g.length!==0&&i("rejected",g)};if(n.accept!==void 0&&F.value.indexOf("*/")===-1&&(d=Z(d,g,"accept",c=>F.value.some(k=>c.type.toUpperCase().startsWith(k)||c.name.toUpperCase().endsWith(k))),d.length===0))return O();if(n.maxFileSize!==void 0){const c=parseInt(n.maxFileSize,10);if(d=Z(d,g,"max-file-size",k=>k.size<=c),d.length===0)return O()}if(n.multiple!==!0&&d.length!==0&&(d=[d[0]]),d.forEach(c=>{c.__key=c.webkitRelativePath+c.lastModified+c.name+c.size}),q===!0){const c=R.map(k=>k.__key);d=Z(d,g,"duplicate",k=>c.includes(k.__key)===!1)}if(d.length===0)return O();if(n.maxTotalSize!==void 0){let c=q===!0?R.reduce((k,A)=>k+A.size,0):0;if(d=Z(d,g,"max-total-size",k=>(c+=k.size,c<=f.value)),d.length===0)return O()}if(typeof n.filter=="function"){const c=n.filter(d);d=Z(d,g,"filter",k=>c.includes(k))}if(n.maxFiles!==void 0){let c=q===!0?R.length:0;if(d=Z(d,g,"max-files",()=>(c++,c<=w.value)),d.length===0)return O()}if(O(),d.length!==0)return d}function t(o){ie(o),r.value!==!0&&(r.value=!0)}function m(o){he(o),(o.relatedTarget!==null||We.is.safari!==!0?o.relatedTarget!==b.value:document.elementsFromPoint(o.clientX,o.clientY).includes(b.value)===!1)===!0&&(r.value=!1)}function U(o){ie(o);const C=o.dataTransfer.files;C.length!==0&&l(null,C),r.value=!1}function p(o){if(r.value===!0)return v("div",{ref:b,class:`q-${o}__dnd absolute-full`,onDragenter:ie,onDragover:ie,onDragleave:m,onDrop:U})}return Object.assign(y,{pickFiles:$,addFiles:E}),{pickFiles:$,addFiles:E,onDragover:t,onDragleave:m,processFiles:S,getDndNode:p,maxFilesNumber:w,maxTotalSizeNumber:f}}function Te(e){return(e*100).toFixed(2)+"%"}const Ct={...ht,...qt,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Re=[...xt,"start","finish","added","removed"];function zt(e,r){const u=ce(),{props:l,slots:n,emit:i,proxy:y}=u,{$q:b}=y,F=_t(l,b);function w(a,h,T){if(a.__status=h,h==="idle"){a.__uploaded=0,a.__progress=0,a.__sizeLabel=Ue(a.size),a.__progressLabel="0.00%";return}if(h==="failed"){y.$forceUpdate();return}a.__uploaded=h==="uploaded"?a.size:T,a.__progress=h==="uploaded"?1:Math.min(.9999,a.__uploaded/a.size),a.__progressLabel=Te(a.__progress),y.$forceUpdate()}const f=_(()=>l.disable!==!0&&l.readonly!==!0),$=B(!1),E=B(null),S=B(null),t={files:B([]),queuedFiles:B([]),uploadedFiles:B([]),uploadedSize:B(0),updateFileStatus:w,isAlive:()=>Ve(u)===!1},{pickFiles:m,addFiles:U,onDragover:p,onDragleave:o,processFiles:C,getDndNode:R,maxFilesNumber:q,maxTotalSizeNumber:d}=wt({editable:f,dnd:$,getFileInput:ne,addFilesToQueue:re});Object.assign(t,e({props:l,slots:n,emit:i,helpers:t,exposeApi:a=>{Object.assign(t,a)}})),t.isBusy===void 0&&(t.isBusy=B(!1));const g=B(0),O=_(()=>g.value===0?0:t.uploadedSize.value/g.value),c=_(()=>Te(O.value)),k=_(()=>Ue(g.value)),A=_(()=>f.value===!0&&t.isUploading.value!==!0&&(l.multiple===!0||t.queuedFiles.value.length===0)&&(l.maxFiles===void 0||t.files.value.length<q.value)&&(l.maxTotalSize===void 0||g.value<d.value)),s=_(()=>f.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);Xe(Be,j);const L=_(()=>"q-uploader column no-wrap"+(F.value===!0?" q-uploader--dark q-dark":"")+(l.bordered===!0?" q-uploader--bordered":"")+(l.square===!0?" q-uploader--square no-border-radius":"")+(l.flat===!0?" q-uploader--flat no-shadow":"")+(l.disable===!0?" disabled q-uploader--disable":"")+($.value===!0?" q-uploader--dnd":"")),H=_(()=>"q-uploader__header"+(l.color!==void 0?` bg-${l.color}`:"")+(l.textColor!==void 0?` text-${l.textColor}`:""));ve(t.isUploading,(a,h)=>{h===!1&&a===!0?i("start"):h===!0&&a===!1&&i("finish")});function D(){l.disable===!1&&(t.abort(),t.uploadedSize.value=0,g.value=0,te(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function z(){l.disable===!1&&ue(["uploaded"],()=>{t.uploadedFiles.value=[]})}function G(){ue(["idle","failed"],({size:a})=>{g.value-=a,t.queuedFiles.value=[]})}function ue(a,h){if(l.disable===!0)return;const T={files:[],size:0},M=t.files.value.filter(P=>a.indexOf(P.__status)===-1?!0:(T.size+=P.size,T.files.push(P),P.__img!==void 0&&window.URL.revokeObjectURL(P.__img.src),!1));T.files.length!==0&&(t.files.value=M,h(T),i("removed",T.files))}function ee(a){l.disable||(a.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(h=>h.__key!==a.__key):a.__status==="uploading"?a.__abort():g.value-=a.size,t.files.value=t.files.value.filter(h=>h.__key!==a.__key?!0:(h.__img!==void 0&&window.URL.revokeObjectURL(h.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(h=>h.__key!==a.__key),i("removed",[a]))}function te(){t.files.value.forEach(a=>{a.__img!==void 0&&window.URL.revokeObjectURL(a.__img.src)})}function ne(){return S.value||E.value.getElementsByClassName("q-uploader__input")[0]}function re(a,h){const T=C(a,h,t.files.value,!0),M=ne();M!=null&&(M.value=""),T!==void 0&&(T.forEach(P=>{if(t.updateFileStatus(P,"idle"),g.value+=P.size,l.noThumbnails!==!0&&P.type.toUpperCase().startsWith("IMAGE")){const _e=new Image;_e.src=window.URL.createObjectURL(P),P.__img=_e}}),t.files.value=t.files.value.concat(T),t.queuedFiles.value=t.queuedFiles.value.concat(T),i("added",T),l.autoUpload===!0&&t.upload())}function x(){s.value===!0&&t.upload()}function Q(a,h,T){if(a===!0){const M={type:"a",key:h,icon:b.iconSet.uploader[h],flat:!0,dense:!0};let P;return h==="add"?(M.onClick=m,P=j):M.onClick=T,v(X,M,P)}}function j(){return v("input",{ref:S,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:l.accept,multiple:l.multiple===!0?"multiple":void 0,capture:l.capture,onMousedown:Pe,onClick:m,onChange:re})}function se(){return n.header!==void 0?n.header(J):[v("div",{class:"q-uploader__header-content column"},[v("div",{class:"flex flex-center no-wrap q-gutter-xs"},[Q(t.queuedFiles.value.length!==0,"removeQueue",G),Q(t.uploadedFiles.value.length!==0,"removeUploaded",z),t.isUploading.value===!0?v(me,{class:"q-uploader__spinner"}):null,v("div",{class:"col column justify-center"},[l.label!==void 0?v("div",{class:"q-uploader__title"},[l.label]):null,v("div",{class:"q-uploader__subtitle"},[k.value+" / "+c.value])]),Q(A.value,"add"),Q(l.hideUploadBtn===!1&&s.value===!0,"upload",t.upload),Q(t.isUploading.value,"clear",t.abort)])])]}function je(){return n.list!==void 0?n.list(J):t.files.value.map(a=>v("div",{key:a.__key,class:"q-uploader__file relative-position"+(l.noThumbnails!==!0&&a.__img!==void 0?" q-uploader__file--img":"")+(a.__status==="failed"?" q-uploader__file--failed":a.__status==="uploaded"?" q-uploader__file--uploaded":""),style:l.noThumbnails!==!0&&a.__img!==void 0?{backgroundImage:'url("'+a.__img.src+'")'}:null},[v("div",{class:"q-uploader__file-header row flex-center no-wrap"},[a.__status==="failed"?v(Ke,{class:"q-uploader__file-status",name:b.iconSet.type.negative,color:"negative"}):null,v("div",{class:"q-uploader__file-header-content col"},[v("div",{class:"q-uploader__title"},[a.name]),v("div",{class:"q-uploader__subtitle row items-center no-wrap"},[a.__sizeLabel+" / "+a.__progressLabel])]),a.__status==="uploading"?v(Ft,{value:a.__progress,min:0,max:1,indeterminate:a.__progress===0}):v(X,{round:!0,dense:!0,flat:!0,icon:b.iconSet.uploader[a.__status==="uploaded"?"done":"clear"],onClick:()=>{ee(a)}})])]))}fe(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&te()});const J={};for(const a in t)Ge(t[a])===!0?Je(J,a,()=>t[a].value):J[a]=t[a];return Object.assign(J,{upload:x,reset:D,removeUploadedFiles:z,removeQueuedFiles:G,removeFile:ee,pickFiles:m,addFiles:U}),Ye(J,{canAddFiles:()=>A.value,canUpload:()=>s.value,uploadSizeLabel:()=>k.value,uploadProgressLabel:()=>c.value}),r({...t,upload:x,reset:D,removeUploadedFiles:z,removeQueuedFiles:G,removeFile:ee,pickFiles:m,addFiles:U,canAddFiles:A,canUpload:s,uploadSizeLabel:k,uploadProgressLabel:c}),()=>{const a=[v("div",{class:H.value},se()),v("div",{class:"q-uploader__list scroll"},je()),R("uploader")];t.isBusy.value===!0&&a.push(v("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[v(me)]));const h={ref:E,class:L.value};return A.value===!0&&Object.assign(h,{onDragover:p,onDragleave:o}),v("div",h,a)}}const Ut=()=>!0;function Tt(e){const r={};return e.forEach(u=>{r[u]=Ut}),r}const Bt=Tt(Re);var Pt=({name:e,props:r,emits:u,injectPlugin:l})=>de({name:e,props:{...Ct,...r},emits:Ze(u)===!0?{...Bt,...u}:[...Re,...u],setup(n,{expose:i}){return zt(l,i)}});function I(e){return typeof e=="function"?e:()=>e}const Et={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Ot=["factoryFailed","uploaded","failed","uploading"];function At({props:e,emit:r,helpers:u}){const l=B([]),n=B([]),i=B(0),y=_(()=>({url:I(e.url),method:I(e.method),headers:I(e.headers),formFields:I(e.formFields),fieldName:I(e.fieldName),withCredentials:I(e.withCredentials),sendRaw:I(e.sendRaw),batch:I(e.batch)})),b=_(()=>i.value>0),F=_(()=>n.value.length!==0);let w;function f(){l.value.forEach(t=>{t.abort()}),n.value.length!==0&&(w=!0)}function $(){const t=u.queuedFiles.value.slice(0);u.queuedFiles.value=[],y.value.batch(t)?E(t):t.forEach(m=>{E([m])})}function E(t){if(i.value++,typeof e.factory!="function"){S(t,{});return}const m=e.factory(t);if(!m)r("factoryFailed",new Error("QUploader: factory() does not return properly"),t),i.value--;else if(typeof m.catch=="function"&&typeof m.then=="function"){n.value.push(m);const U=p=>{u.isAlive()===!0&&(n.value=n.value.filter(o=>o!==m),n.value.length===0&&(w=!1),u.queuedFiles.value=u.queuedFiles.value.concat(t),t.forEach(o=>{u.updateFileStatus(o,"failed")}),r("factoryFailed",p,t),i.value--)};m.then(p=>{w===!0?U(new Error("Aborted")):u.isAlive()===!0&&(n.value=n.value.filter(o=>o!==m),S(t,p))}).catch(U)}else S(t,m||{})}function S(t,m){const U=new FormData,p=new XMLHttpRequest,o=(s,L)=>m[s]!==void 0?I(m[s])(L):y.value[s](L),C=o("url",t);if(!C){console.error("q-uploader: invalid or no URL specified"),i.value--;return}const R=o("formFields",t);R!==void 0&&R.forEach(s=>{U.append(s.name,s.value)});let q=0,d=0,g=0,O=0,c;p.upload.addEventListener("progress",s=>{if(c===!0)return;const L=Math.min(O,s.loaded);u.uploadedSize.value+=L-g,g=L;let H=g-d;for(let D=q;H>0&&D<t.length;D++){const z=t[D];if(H>z.size)H-=z.size,q++,d+=z.size,u.updateFileStatus(z,"uploading",z.size);else{u.updateFileStatus(z,"uploading",H);return}}},!1),p.onreadystatechange=()=>{p.readyState<4||(p.status&&p.status<400?(u.uploadedFiles.value=u.uploadedFiles.value.concat(t),t.forEach(s=>{u.updateFileStatus(s,"uploaded")}),r("uploaded",{files:t,xhr:p})):(c=!0,u.uploadedSize.value-=g,u.queuedFiles.value=u.queuedFiles.value.concat(t),t.forEach(s=>{u.updateFileStatus(s,"failed")}),r("failed",{files:t,xhr:p})),i.value--,l.value=l.value.filter(s=>s!==p))},p.open(o("method",t),C),o("withCredentials",t)===!0&&(p.withCredentials=!0);const k=o("headers",t);k!==void 0&&k.forEach(s=>{p.setRequestHeader(s.name,s.value)});const A=o("sendRaw",t);t.forEach(s=>{u.updateFileStatus(s,"uploading",0),A!==!0&&U.append(o("fieldName",s),s,s.name),s.xhr=p,s.__abort=()=>{p.abort()},O+=s.size}),r("uploading",{files:t,xhr:p}),l.value.push(p),A===!0?p.send(new Blob(t)):p.send(U)}return{isUploading:b,isBusy:F,abort:f,upload:$}}var $t={name:"QUploader",props:Et,emits:Ot,injectPlugin:At},Nt=Pt($t);const Rt=Ee("musik",{state:()=>({musiks:[],loading:!1}),getters:{apiUrl:()=>{const e=location.port===""?"":`:${location.port}`;return`${location.protocol}//${location.hostname}${e}/api/musik/upload`}},actions:{async load(){this.loading=!0;const e=await ke.find("musik");e.error||(this.musiks=e.data),this.loading=!1},async insert(e){const r=await ke.insert("musik",e);r.error||this.musiks.push(r.data)}}}),jt=Ee("message",()=>{const e=yt();return{error:l=>{e.notify({type:"negative",message:l,timeout:2e3})},success:l=>{e.notify({type:"positive",message:l,timeout:2e3})}}}),Lt={class:"col-12 justify-start q-pa-md"},Dt={class:"row no-wrap items-center q-pa-sm q-gutter-xs"},Qt={class:"col"},Mt=le("div",{class:"q-uploader__title"},"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0430\u0443\u0434\u0438\u043E \u0444\u0430\u0439\u043B\u0430",-1),It={class:"q-uploader__subtitle"},Ht=Oe({__name:"AquadoctorListAdmin",setup(e){const r=Rt(),u=jt(),l=et(),{token:n}=Fe(l);r.load();const i=async F=>{await r.load(),u.success(F.xhr.responseText)},y=async F=>{u.error(JSON.parse(F.xhr.responseText).message)},{apiUrl:b}=Fe(r);return(F,w)=>(W(),Ae("section",Lt,[V(Nt,{url:qe(b),label:"\u0417\u0430\u0433\u0440\u0443\u0437\u043A\u0430 \u0430\u0443\u0434\u0438\u043E",color:"primary","field-name":"musik",accept:".mp3",onUploaded:i,onFailed:y,headers:()=>[{name:"Authorization",value:`Bearer ${qe(n)}`}]},{header:N(f=>[le("div",Dt,[f.queuedFiles.length>0?(W(),Y(X,{key:0,icon:"clear_all",onClick:f.removeQueuedFiles,round:"",dense:"",flat:""},{default:N(()=>[V(oe,null,{default:N(()=>[ae("\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C")]),_:1})]),_:2},1032,["onClick"])):K("",!0),f.uploadedFiles.length>0?(W(),Y(X,{key:1,icon:"done_all",onClick:f.removeUploadedFiles,round:"",dense:"",flat:""},{default:N(()=>[V(oe,null,{default:N(()=>[ae("\u0423\u0434\u0430\u043B\u0438\u0442\u044C \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043D\u043D\u044B\u0435 \u0444\u0430\u0439\u043B\u044B")]),_:1})]),_:2},1032,["onClick"])):K("",!0),f.isUploading?(W(),Y(me,{key:2,class:"q-uploader__spinner"})):K("",!0),le("div",Qt,[Mt,le("div",It,pe(f.uploadSizeLabel)+" / "+pe(f.uploadProgressLabel),1)]),f.canAddFiles?(W(),Y(X,{key:3,type:"a",icon:"add_box",onClick:f.pickFiles,round:"",dense:"",flat:""},{default:N(()=>[V(bt),V(oe,null,{default:N(()=>[ae("\u0412\u044B\u0431\u0440\u0430\u0442\u044C \u0444\u0430\u0439\u043B")]),_:1})]),_:2},1032,["onClick"])):K("",!0),f.canUpload?(W(),Y(X,{key:4,icon:"cloud_upload",onClick:f.upload,round:"",dense:"",flat:""},{default:N(()=>[V(oe,null,{default:N(()=>[ae("\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0444\u0430\u0439\u043B")]),_:1})]),_:2},1032,["onClick"])):K("",!0),f.isUploading?(W(),Y(X,{key:5,icon:"clear",onClick:f.abort,round:"",dense:"",flat:""},{default:N(()=>[V(oe,null,{default:N(()=>[ae("Abort Upload")]),_:1})]),_:2},1032,["onClick"])):K("",!0)])]),_:1},8,["url","headers"])]))}}),Wt={class:"q-mx-md q-my-sm"},Yt=Oe({__name:"AquadoctorPage",setup(e){return(r,u)=>(W(),Ae("section",Wt,[le("h5",null,pe(r.$t("aquadoctor")),1),V(Ht)]))}});export{Yt as default};
