var k=Object.defineProperty;var B=(u,r,n)=>r in u?k(u,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[r]=n;var s=(u,r,n)=>(B(u,typeof r!="symbol"?r+"":r,n),n);import{Q as _}from"./QPage.440c9aed.js";import{Q as w,a as j}from"./QCardActions.bb1299a3.js";import{Q}from"./use-key-composition.939e4fb3.js";import{Q as m}from"./QInput.d626cc29.js";import{d as D,a3 as R,a2 as h,r as i,W as C,X as N,Y as o,j as l,a7 as g,a0 as A,Q as y,t as I,a9 as $,aG as U}from"./index.aa73692f.js";import{c as E}from"./QSelect.6f17b704.js";import{Q as F,a as G,C as O}from"./ClosePopup.10e88d90.js";import{Q as T}from"./QForm.e45cb497.js";import{Q as W}from"./QCard.d1e50e97.js";import{d as X}from"./date.bb3c85a4.js";import"./focus-manager.6aaf34c3.js";import"./QDialog.3946e718.js";import"./position-engine.3fcad627.js";class z{constructor(){s(this,"id");s(this,"email");s(this,"firstName");s(this,"lastName");s(this,"middleName");s(this,"password");s(this,"gender");s(this,"image");s(this,"birthday");s(this,"role")}}const H={class:"text-h6"},J={class:"row items-center justify-end"},K=D({__name:"SignUp",setup(u){const{formatDate:r,extractDate:n}=X,S=R(),Y=h(),f=i(""),v=i(""),V=i(""),b=i(""),d=i(r(Date.now(),"YYYY/MM/DD")),c=i("male"),p=i(!1),P=["male","female"],q=async()=>{const a=new z;a.email=f.value,a.firstName=v.value,a.lastName=V.value,a.password=b.value,a.birthday=n(d.value,"YYYY/MM/DD").getTime(),a.gender=c.value,await S.signUp(a)&&Y.push("/profile")},M=()=>{};return(a,t)=>(C(),N(W,{bordered:"",class:"panel"},{default:o(()=>[l(w,{class:"text-center"},{default:o(()=>[g("div",H,A(a.$t("signup-title")),1)]),_:1}),l(Q,{inset:""}),l(T,{onSubmit:U(q,["prevent","stop"]),onReset:U(M,["prevent","stop"]),class:"q-gutter-md"},{default:o(()=>[l(w,null,{default:o(()=>[l(m,{autofocus:"",standout:"",modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=e=>f.value=e),label:a.$t("email")+"*",rules:[e=>!!e||a.$t("required"),e=>e.match(new RegExp(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/g))||a.$t("email-failed")]},null,8,["modelValue","label","rules"]),l(m,{standout:"",modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=e=>b.value=e),label:a.$t("create-password")+"*",type:p.value?"text":"password",rules:[e=>!!e||a.$t("required")]},{append:o(()=>[l(y,{name:p.value?"visibility":"visibility_off",class:"cursor-pointer",onClick:t[1]||(t[1]=e=>p.value=!p.value)},null,8,["name"])]),_:1},8,["modelValue","label","type","rules"]),l(m,{standout:"",modelValue:v.value,"onUpdate:modelValue":t[3]||(t[3]=e=>v.value=e),label:a.$t("firstname")+"*",rules:[e=>!!e||a.$t("required")]},null,8,["modelValue","label","rules"]),l(m,{standout:"",modelValue:V.value,"onUpdate:modelValue":t[4]||(t[4]=e=>V.value=e),label:a.$t("lastname")+"*",rules:[e=>!!e||a.$t("required")]},null,8,["modelValue","label","rules"]),l(E,{class:"select choice",modelValue:c.value,"onUpdate:modelValue":t[5]||(t[5]=e=>c.value=e),label:a.$t("gender"),options:P,"item-aligned":"",standout:""},null,8,["modelValue","label"]),l(m,{filled:"",modelValue:d.value,"onUpdate:modelValue":t[7]||(t[7]=e=>d.value=e),mask:"date",rules:["date"]},{append:o(()=>[l(y,{name:"event",class:"cursor-pointer"},{default:o(()=>[l(F,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:o(()=>[l(G,{modelValue:d.value,"onUpdate:modelValue":t[6]||(t[6]=e=>d.value=e)},{default:o(()=>[g("div",J,[I(l($,{label:"Close",color:"primary",flat:""},null,512),[[O]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),l(Q,{inset:""}),l(j,null,{default:o(()=>[l($,{flat:"",type:"submit",label:a.$t("signup")},null,8,["label"])]),_:1})]),_:1})]),_:1}))}}),me=D({__name:"SignUpPage",setup(u){return(r,n)=>(C(),N(_,{class:"row items-center justify-evenly"},{default:o(()=>[l(K)]),_:1}))}});export{me as default};
