import{Q as R,a as T,b as S,c as h}from"./QTable.9e2a57af.js";import{Q as $}from"./QTooltip.f2caef9c.js";import{d as L,$ as j,W as x,U as z,r as p,L as o,X as _,Z as r,R as l,V as k,M as b,N as t,a1 as P,j as s,F as w,Y as U,P as i,a0 as D,aK as Y,O as E,_ as F}from"./index.227b5c2c.js";import{Q as K}from"./QInput.2f6ef08d.js";import{d as W}from"./date.2b02fe95.js";import{u as X}from"./aquadoctor.store.3b96c4ca.js";import{L as Z}from"./LoadingSpinner.97d9b8d9.js";import{_ as G}from"./ConfirmDialog.6c93046b.js";const H={class:"q-mx-md q-my-sm"},J={class:"row justify-center"},ee={key:0,class:"flex justify-end"},ae={class:"q-gutter-xs"},te={class:"item-control-delete"},se={class:"q-gutter-xs"},re={class:"q-mr-lg"},oe=L({__name:"AquadoctorOrders",props:{userId:{default:0},correct:{type:Boolean,default:!1}},setup(C){const N=[{name:"name",required:!0,label:"musikName",align:"left",field:e=>e.name,format:e=>`${e}`,sortable:!1},{name:"created",required:!0,label:"created",align:"left",field:e=>e.created,format:e=>u(e,"YYYY/MM/DD"),sortable:!1},{name:"startDate",required:!0,label:"startDate",align:"left",field:e=>e.startDate,format:e=>u(e,"YYYY/MM/DD"),sortable:!1},{name:"endDate",required:!0,label:"endDate",align:"left",field:e=>e.endDate,format:e=>u(e,"YYYY/MM/DD"),sortable:!1},{name:"active",required:!0,label:"ActiveState",align:"left",field:e=>e.active,format:e=>`${e}`,sortable:!1},{name:"id",required:!0,label:"blank",align:"left",field:e=>e.id,format:e=>`${e}`,sortable:!1}],{formatDate:u}=W,Q=C,v=j(),V=x(),d=X(),{aquadoctorList:A,loading:B}=z(d),c=p(""),m=p(),f=p(null),g=v.params.userId?+v.params.userId:Q.userId;d.load(g);const M=e=>{V.push({name:"AquadoctorEdit",params:{orderId:e.id}})},I=async()=>{var e;m.value.isShow=!1,await d.delete((e=f.value)==null?void 0:e.id),await d.load(g)},O=e=>{f.value=e,m.value.isShow=!0};return(e,q)=>{var y;return o(),_(w,null,[r("section",H,[r("h5",null,l(e.$t("orders"))+" Aquadoctor",1)]),k(B)?(o(),b(Z,{key:0})):(o(),b(R,{key:1,class:P({"table-desktop":e.$q.screen.gt.sm,"height-80vh":e.$q.screen.gt.sm}),flat:"",bordered:"","virtual-scroll":"",rows:k(A)(c.value),columns:N,"row-key":"name","rows-per-page-options":[15,20,25,50,0],"rows-per-page-label":e.$t("RowsPerPage"),"no-data-label":e.$t("NoData"),separator:"cell"},{header:t(a=>[s(S,{props:a},{default:t(()=>[(o(!0),_(w,null,U(a.cols,n=>(o(),b(T,{key:n.name,props:a,class:"text-uppercase text-primary",style:{"text-align":"center"}},{default:t(()=>[i(l(e.$t(n.label)),1)]),_:2},1032,["props"]))),128))]),_:2},1032,["props"])]),"body-cell-id":t(a=>[s(h,{props:a},{default:t(()=>[r("div",J,[e.correct?(o(),_("div",ee,[r("div",ae,[s(D,{class:"q-mr-sm",size:"12px",flat:"",dense:"",round:"",icon:"edit",color:"primary",onClickCapture:Y(n=>M(a.row),["stop"])},{default:t(()=>[s($,null,{default:t(()=>[i(l(e.$t("edit")),1)]),_:1})]),_:2},1032,["onClickCapture"])])])):E("",!0),r("div",te,[r("div",se,[s(D,{class:"q-mr-sm",size:"12px",flat:"",dense:"",round:"",icon:"mdi-close-circle",onClickCapture:Y(n=>O(a.row),["stop"])},{default:t(()=>[s($,null,{default:t(()=>[i(l(e.$t("delete")),1)]),_:1})]),_:2},1032,["onClickCapture"])])])])]),_:2},1032,["props"])]),"body-cell-active":t(a=>[s(h,{props:a,style:{"text-align":"center",width:"5%"}},{default:t(()=>[i(l(a.row.active?e.$t("Yes"):e.$t("No")),1)]),_:2},1032,["props"])]),"top-left":t(()=>[r("div",re,[s(K,{class:"q-mb-md",debounce:"300",outlined:"",modelValue:c.value,"onUpdate:modelValue":q[0]||(q[0]=a=>c.value=a),label:e.$t("searchByName")},null,8,["modelValue","label"])])]),_:1},8,["class","rows","rows-per-page-label","no-data-label"])),s(G,{ref_key:"confirmDelete",ref:m,onOk:I,description:e.$t("deleteRecord"),message:(y=f.value)==null?void 0:y.name},null,8,["description","message"])],64)}}});var pe=F(oe,[["__scopeId","data-v-01a609b5"]]);export{pe as A};
